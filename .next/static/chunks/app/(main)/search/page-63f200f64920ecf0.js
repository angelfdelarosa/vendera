(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[604],{1394:(e,r,s)=>{"use strict";s.d(r,{Avatar:()=>c,AvatarFallback:()=>o,AvatarImage:()=>n});var a=s(5155),l=s(2115),t=s(5977),i=s(9434);let c=l.forwardRef((e,r)=>{let{className:s,...l}=e;return(0,a.jsx)(t.bL,{ref:r,className:(0,i.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...l})});c.displayName=t.bL.displayName;let n=l.forwardRef((e,r)=>{let{className:s,...l}=e;return(0,a.jsx)(t._V,{ref:r,className:(0,i.cn)("h-full w-full",s),...l})});n.displayName=t._V.displayName;let o=l.forwardRef((e,r)=>{let{className:s,...l}=e;return(0,a.jsx)(t.H4,{ref:r,className:(0,i.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...l})});o.displayName=t.H4.displayName},6214:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>u});var a=s(5155),l=s(2115),t=s(5695),i=s(9576),c=s(172),n=s(2555),o=s(9137),d=s(3571),m=s(7200);function x(){let{supabase:e}=(0,i.A)(),r=(0,t.useSearchParams)(),s=r.get("q")||"",x=r.get("category")||"all",{t:u}=(0,o.B)(),[f,h]=(0,l.useState)({properties:[],users:[]}),[p,j]=(0,l.useState)(!1);if((0,l.useEffect)(()=>{(async()=>{if(!s||!e)return;j(!0);let r={properties:[],users:[]},a="%".concat(s,"%");if("all"===x||"properties"===x){let{data:s,error:l}=await e.from("properties").select("*, realtor:realtor_id(user_id, full_name, avatar_url, username)").or("title.ilike.".concat(a,",location.ilike.").concat(a,",address.ilike.").concat(a,",description.ilike.").concat(a));s&&(r.properties=s),l&&console.error("Error searching properties:",l)}if("all"===x||"users"===x){let{data:s,error:l}=await e.from("profiles").select("*").or("full_name.ilike.".concat(a,",username.ilike.").concat(a));s&&(r.users=s),l&&console.error("Error searching users:",l)}h(r),j(!1)})()},[s,x,e]),p)return(0,a.jsx)("div",{className:"flex justify-center items-center min-h-[calc(100vh-16rem)]",children:(0,a.jsx)(c.A,{className:"h-12 w-12 animate-spin text-primary"})});let N=f.properties.length>0||f.users.length>0;return(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsx)("h1",{className:"font-headline text-3xl font-bold text-primary mb-2",children:u("search.resultsTitle")}),(0,a.jsxs)("p",{className:"text-lg text-muted-foreground mb-8",children:[u("search.resultsFor")," ",(0,a.jsx)("span",{className:"font-semibold text-primary",children:s})]}),N?(0,a.jsxs)("div",{className:"space-y-12",children:[f.properties.length>0&&(0,a.jsxs)("section",{children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-primary border-b pb-2",children:"Propiedades"}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:f.properties.map(e=>(0,a.jsx)(d.y,{property:e},e.id))})]}),f.users.length>0&&(0,a.jsxs)("section",{children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-primary border-b pb-2",children:"Vendedores"}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:f.users.map(e=>(0,a.jsx)(m.q,{user:e},e.user_id))})]})]}):(0,a.jsxs)("div",{className:"text-center py-24 bg-card rounded-xl border border-dashed flex flex-col items-center",children:[(0,a.jsx)(n.A,{className:"w-16 h-16 text-muted-foreground/50 mb-4"}),(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-2 text-primary",children:u("search.noUsersFound")}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"No encontramos resultados. Intenta con otra b\xfasqueda."})]})]})}function u(){return(0,a.jsx)(l.Suspense,{fallback:(0,a.jsx)("div",{className:"flex justify-center items-center min-h-[calc(100vh-8rem)]",children:(0,a.jsx)(c.A,{className:"h-16 w-16 animate-spin text-primary"})}),children:(0,a.jsx)(x,{})})}},7200:(e,r,s)=>{"use strict";s.d(r,{q:()=>x});var a=s(5155),l=s(6874),t=s.n(l),i=s(6695),c=s(1394),n=s(285),o=s(9968),d=s(9137),m=s(9576);function x(e){var r;let{user:s}=e,l=(null==(r=s.full_name)?void 0:r.charAt(0).toUpperCase())||"?",{t:x}=(0,d.B)(),{user:u}=(0,m.A)();return(0,a.jsxs)(i.Zp,{className:"flex flex-col h-full overflow-hidden transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:[(0,a.jsxs)(i.aR,{className:"items-center text-center p-6",children:[(0,a.jsxs)(c.Avatar,{className:"h-24 w-24 mb-4 border-4 border-background",children:[(0,a.jsx)(c.AvatarImage,{src:s.avatar_url||void 0,alt:s.full_name||"","data-ai-hint":"person face",className:"object-cover"}),(0,a.jsx)(c.AvatarFallback,{children:l})]}),(0,a.jsx)("h3",{className:"font-headline text-xl font-bold text-primary",children:s.full_name})]}),(0,a.jsxs)(i.Wu,{className:"p-6 pt-0 flex-grow flex flex-col",children:[u?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("p",{className:"text-muted-foreground text-sm text-center flex-grow"})}):(0,a.jsx)("div",{className:"text-muted-foreground text-sm text-center flex-grow",children:"Inicia sesi\xf3n para ver m\xe1s detalles."}),(0,a.jsx)(n.$,{asChild:!0,className:"w-full mt-6",children:(0,a.jsxs)(t(),{href:"/profile/".concat(s.user_id),children:[x("userCard.viewProfile")," ",(0,a.jsx)(o.A,{className:"ml-2"})]})})]})]})}},9213:(e,r,s)=>{Promise.resolve().then(s.bind(s,6214))}},e=>{var r=r=>e(e.s=r);e.O(0,[941,271,53,766,977,859,571,441,684,358],()=>r(9213)),_N_E=e.O()}]);